
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Coinstore官方API文档</title>
    <link href="../images/favicon-ab07c47e.ico" rel="icon" type="image/ico">
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../stylesheets/screen-297dc653.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print-62a209d5.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all-1decc47a.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="cn cn_index" data-languages="[]">
    <div class="header">
      <img src="../images/logo-b34a5437.png" class="logo" alt="" />
      <div class="tabs">
        <ul>
          <li class="active">现货</li>
          <li>
            <a href="https://doc.wbfutures.pro/index.html">
              永续合约
            </a>
          </li>
        </ul>
      </div>
      <div class="lang">
        <span>简体中文</span>
        <img src="../images/down-c11a96e5.png" class="down" alt="" />
        <ul class="lang-list">
         <li class="active">
            <a href="/cn">
              简体中文
            </a>
         </li>
         <li class="">
            <a href="/en">
              English
            </a>
         </li>
        </ul>
      </div>
    </div>
    <a href="#" id="nav-button">
      <span>
        <img src="../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="搜索">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#45fa4e00db" class="toc-h1 toc-link" data-title="介绍">介绍</a>
          </li>
          <li>
            <a href="#9e033de16f" class="toc-h1 toc-link" data-title="快速开始">快速开始</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c1ae0a8486" class="toc-h2 toc-link" data-title="接入准备">接入准备</a>
                  </li>
                  <li>
                    <a href="#5076603a3e" class="toc-h2 toc-link" data-title="接口类型">接口类型</a>
                  </li>
                  <li>
                    <a href="#urls" class="toc-h2 toc-link" data-title="接入URLs">接入URLs</a>
                  </li>
                  <li>
                    <a href="#586f3bcbf4" class="toc-h2 toc-link" data-title="签名认证"><span id="a4">签名认证</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API接入说明">API接入说明</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#5b7654a66a" class="toc-h2 toc-link" data-title="请求格式"><span id="a3">请求格式</span></a>
                  </li>
                  <li>
                    <a href="#3ee119c599" class="toc-h2 toc-link" data-title="返回格式"><span id="a3">返回格式</span></a>
                  </li>
                  <li>
                    <a href="#a38a81c9d5" class="toc-h2 toc-link" data-title="错误信息">错误信息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#2a0d0be224" class="toc-h1 toc-link" data-title="账户相关">账户相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7c2f2901d7" class="toc-h2 toc-link" data-title="资产余额"><span id="1">资产余额</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#96a5882bf8" class="toc-h1 toc-link" data-title="订单相关">订单相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2152241f96" class="toc-h2 toc-link" data-title="获取当前订单"><span id="2">获取当前订单</span></a>
                  </li>
                  <li>
                    <a href="#8b3c19df49" class="toc-h2 toc-link" data-title="获取用户最新成交"><span id="3">获取用户最新成交</span></a>
                  </li>
                  <li>
                    <a href="#debd6c0464" class="toc-h2 toc-link" data-title="取消委托单"><span id="4">取消委托单</span></a>
                  </li>
                  <li>
                    <a href="#caef340d80" class="toc-h2 toc-link" data-title="一键撤单"><span id="5">一键撤单</span></a>
                  </li>
                  <li>
                    <a href="#df83685cc8" class="toc-h2 toc-link" data-title="创建订单"><span id="6">创建订单</span></a>
                  </li>
                  <li>
                    <a href="#77aaf08979" class="toc-h2 toc-link" data-title="批量下单"><span id="13">批量下单</span></a>
                  </li>
                  <li>
                    <a href="#id" class="toc-h2 toc-link" data-title="根据订单id批量进行撤单"><span id="27">根据订单id批量进行撤单</span></a>
                  </li>
                  <li>
                    <a href="#8023a5b7ae" class="toc-h2 toc-link" data-title=".获取订单信息"><span id="14">.获取订单信息</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#43ee760de5" class="toc-h1 toc-link" data-title="行情相关">行情相关</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1a3223149b" class="toc-h2 toc-link" data-title="获取所有交易对最新价格"><span id="7">获取所有交易对最新价格</span></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="Websocket行情数据">Websocket行情数据</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#5ea2e0cde2" class="toc-h2 toc-link" data-title="简介">简介</a>
                  </li>
                  <li>
                    <a href="#61d816b5c6" class="toc-h2 toc-link" data-title="实时订阅/取消数据流"><strong>实时订阅/取消数据流</strong></a>
                  </li>
                  <li>
                    <a href="#edf11a92a0" class="toc-h2 toc-link" data-title="公共行情频道"><strong>公共行情频道</strong></a>
                  </li>
                  <li>
                    <a href="#050d3ff583" class="toc-h2 toc-link" data-title="用户私有数据频道"><strong>用户私有数据频道</strong></a>
                  </li>
                  <li>
                    <a href="#42702c21cd" class="toc-h2 toc-link" data-title="字典"><strong>字典</strong></a>
                  </li>
              </ul>
          </li>
        <li class="create_api"><a target="_blank" href="https://www.wbf.live/personal/apiManagement">创建 API Key</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='45fa4e00db'>介绍</h1>
<p>欢迎使用Coinstore开发者文档，此文档是Coinstore API的唯一官方文档。</p>

<p>本文档提供了相关API的使用方法介绍。</p>

<p>RESTful API包含了资产，订单及行情等接口。</p>

<p>Websocket则提供了行情相关的接口及推送服务。</p>

<p>Coinstore API提供的服务会在此持续更新，请大家及时关注。</p>
<h1 id='9e033de16f'>快速开始</h1><h2 id='c1ae0a8486'>接入准备</h2>
<p>如需使用API，请先登录网页端，通过【用户中心】-【API管理】创建一个API key，再据此文档详情进行开发和交易。</p>

<p>您可以点击 &#39;https://www.coinstore.com/#/user/bindAuth/ManagementAPI&#39; 创建 API Key。</p>

<p>每个用户可创建5组API Key，每组API key可以绑定5个不同的IP地址。API key一旦绑定了IP地址，则只能从绑定的IP地址使用该API key调用API接口。出于安全考虑，强烈建议您为API key绑定相应的IP地址。</p>

<p>创建成功后请务必记住以下信息：</p>

<ul>
<li><code>API Key</code>  API 访问密钥</li>
<li><code>Secret Key</code> 签名认证加密所使用的密钥</li>
</ul>
<h2 id='5076603a3e'>接口类型</h2>
<p>Coinstore为用户提供两种接口，您可根据自己的使用场景和偏好来选择适合的方式进行查询行情、交易。</p>

<p><strong>REST API</strong></p>

<p>REST，即Representational State Transfer的缩写，是一种流行的互联网传输架构。它具有结构清晰、符合标准、易于理解、扩展方便的，正得到越来越多网站的采用。其优点如右：</p>

<ul>
<li>在RESTful架构中，每一个URL代表一种资源；</li>
<li>客户端和服务器之间，传递这种资源的某种表现层；</li>
<li>客户端通过四个HTTP指令，对服务器端资源进行操作，实现“表现层状态转化”。 </li>
</ul>

<p>交易或资产等一次性操作，建议开发者使用REST API进行操作</p>

<p><strong>WebSocket API</strong></p>

<p>WebSocket是HTML5一种新的协议（Protocol）。它实现了客户端与服务器全双工通信，通过一次简单的握手就可以建立客户端和服务器连接，服务器可以根据业务规则主动推送信息给客户端。</p>

<p>市场行情和买卖深度等信息，建议开发者使用WebSocket API进行获取。</p>
<h3 id='2ac5e3c5f6'>接口鉴权</h3>
<p>以上两种接口均包含公共接口和私有接口两种类型。</p>

<p>公共接口可用于获取基础信息和行情数据。公共接口无需认证即可调用。</p>

<p>私有接口可用于交易管理。每个私有请求必须使用您的API Key进行签名验证。</p>
<h2 id='urls'>接入URLs</h2>
<p><strong>REST API</strong></p>

<p><code>https://api.coinstore.com/api</code></p>

<p><strong>WebSocket</strong></p>

<p><code>wss://ws.coinstore.com/s/ws</code></p>

<p>为保证API服务的稳定性，建议使用日本AWS云服务器进行访问。如使用中国大陆境内的客户端服务器，连接的稳定性将难以保证。</p>
<h2 id='586f3bcbf4'><span id="a4">签名认证</span></h2>
<p><strong>签名说明</strong></p>

<p>API 请求在通过 internet 传输的过程中极有可能被篡改，为了确保请求未被更改，除公共接口（基础信息，行情数据）外的私有接口均必须使用您的 API Key 做签名认证，以校验参数或参数值在传输途中是否发生了更改。</p>

<p><strong>签名算法</strong></p>

<p>使用HmacSHA256哈希函数作为签名函数
<code>
Mac hmacSha256 = Mac.getInstance(&quot;HmacSHA256&quot;);
</code></p>

<p><strong>签名步骤</strong></p>

<p>1、签名有效字符串为请求参数和请求体
注意：请求参数和请求体不进行任何排序，直接拼接成字符串作为payload。</p>

<p>实例1：GET请求查询字符串</p>

<p>?symbol=aaaa88&amp;size=10</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="n">symbol</span><span class="o">=</span><span class="n">aaaa88</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="err">”；</span>
</code></pre></div>
<p>实例2 :Post请求体</p>

<p>{&quot;symbol&quot;:&quot;aaaa88&quot;,&quot;side&quot;:&quot;SELL&quot;,&quot;ordType&quot;:&quot;LIMIT&quot;,&quot;ordPrice&quot;:2,&quot;ordQty&quot;:1,&quot;timestamp&quot;:1627384801051}</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="o">{</span><span class="s">"symbol"</span><span class="o">:</span><span class="s">"aaaa88"</span><span class="o">,</span><span class="s">"side"</span><span class="o">:</span><span class="s">"SELL"</span><span class="o">,</span><span class="s">"ordType"</span><span class="o">:</span><span class="s">"LIMIT"</span><span class="o">,</span><span class="s">"ordPrice"</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span><span class="s">"ordQty"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span>
 <span class="s">"timestamp"</span><span class="o">:</span><span class="mi">1627384801051</span><span class="o">}</span><span class="err">”；</span>
</code></pre></div>
<p>实例3：混合请求</p>

<p>?symbol=aaaa88&amp;size=10
 {&quot;symbol&quot;:&quot;aaaa88&quot;,&quot;side&quot;:&quot;SELL&quot;,&quot;ordType&quot;:&quot;LIMIT&quot;,&quot;ordPrice&quot;:2,&quot;ordQty&quot;:1,&quot;timestamp&quot;:1627384801051}</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">payload</span> <span class="o">=</span> <span class="err">“</span><span class="n">symbol</span><span class="o">=</span><span class="n">aaaa88</span><span class="o">&amp;</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="o">{</span><span class="s">"symbol"</span><span class="o">:</span><span class="s">"aaaa88"</span><span class="o">,</span><span class="s">"side"</span><span class="o">:</span><span class="s">"SELL"</span><span class="o">,</span><span class="s">"ordType"</span><span class="o">:</span><span class="s">"LIMIT"</span><span class="o">,</span><span class="s">"ordPrice"</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span><span class="s">"ordQty"</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span>
 <span class="s">"timestamp"</span><span class="o">:</span><span class="mi">1627384801051</span><span class="o">}</span><span class="err">”；</span>
</code></pre></div>
<p>2、使用签名函数对时间戳获得哈希值
注意： X-CS-EXPIRES为13位时间戳，需要除以30000获取一个类时间戳，对其进行签名函数计算，获得函数值作为第三步的秘钥   </p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="nc">String</span> <span class="n">time</span> <span class="o">=</span> <span class="nc">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="no">X</span><span class="o">-</span><span class="no">CS</span><span class="o">-</span><span class="no">EXPIRES</span> <span class="o">/</span> <span class="mi">30000</span><span class="o">);</span>
 <span class="n">hmacSha256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">Secret_Key</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">));</span>
 <span class="kt">byte</span><span class="o">[]</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">time</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
 <span class="nc">String</span> <span class="n">key</span> <span class="o">=</span> <span class="nc">Hex</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
</code></pre></div>
<p>3、使用签名函数对签名有效字符串获得哈希值</p>
<div class="highlight"><pre class="highlight java tab-java"><code> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
 <span class="n">hmacSha256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">new</span> <span class="nc">SecretKeySpec</span><span class="o">(</span><span class="n">key</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">"HmacSHA256"</span><span class="o">));</span>
 <span class="n">hash</span> <span class="o">=</span> <span class="n">hmacSha256</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">payload</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
 <span class="nc">String</span> <span class="n">sign</span><span class="o">=</span> <span class="nc">Hex</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">hash</span><span class="o">);</span>
</code></pre></div><h1 id='api'>API接入说明</h1><h2 id='5b7654a66a'><span id="a3">请求格式</span></h2>
<p>所有的API请求都是restful，目前只有两种方法：GET和POST。
- GET请求：所有的参数都在路径参数里
- POST请求: 路径里可以设置参数，参数可以以JSON格式发送在请求主体（body）里，没有参数的需要传{}</p>

<p>一个合法的请求由以下几部分组成：
- 方法请求地址：即访问服务器地址api.coinstore.com，比如https://api.coinstore.com/api/trade/order/place
- 必须和可选参数。
- X-CS-APIKEY： 即用户申请的API Key。
- X-CS-EXPIRES：您发出请求的时间戳。如：1629291143107。
- X-CS-SIGN：签名计算得出的字符串，用于确保签名有效和未被篡改。</p>

<blockquote>
<p>注意：X-CS-APIKEY ，X-CS-EXPIRES ，X-CS-SIGN 三个参数都在请求头中，另外需要设置&#39;Content-Type&#39;:&#39;application/json&#39;。</p>
</blockquote>
<h2 id='3ee119c599'><span id="a3">返回格式</span></h2>
<p>所有的接口返回都是JSON格式。在JSON的第一层有3个字段code，msg和data。前两个字段表示请求状态和描述，实际的业务数据在data字段里。</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"suc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">per</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">response</span><span class="w"> </span><span class="err">data</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">nested</span><span class="w"> </span><span class="err">JSON</span><span class="w"> </span><span class="err">object</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>以下是一个返回格式的样例：</p>

<table><thead>
<tr>
<th>字段</th>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>返回状态</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>状态或错误描述</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>业务数据</td>
</tr>
</tbody></table>
<h2 id='a38a81c9d5'>错误信息</h2>
<p><strong>HTTP状态码</strong></p>

<p>HTTP常见的错误码如下：
- 400 Bad Request – Invalid request forma 请求格式无效</p>

<ul>
<li><p>401 signature failed – Invalid API Key 无效的API Key</p></li>
<li><p>404 service not found 没有找到请求</p></li>
<li><p>429 too many visits 请求太频繁被系统限流</p></li>
<li><p>500 internal server error – 服务器内部错误</p></li>
</ul>

<p><strong>业务状态码</strong></p>

<p>如果失败，response message 带有错误描述信息, 对应的状态码描述如下：</p>

<table><thead>
<tr>
<th>状态码</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>成功</td>
<td>code=0 成功， code &gt;0 失败</td>
</tr>
</tbody></table>
<h1 id='2a0d0be224'>账户相关</h1><h2 id='7c2f2901d7'><span id="1">资产余额</span></h2>
<p>获取用户资产余额</p>
<h3 id='http'>HTTP请求:</h3>
<ul>
<li>POST /spot/accountList</li>
</ul>

<blockquote>
<p>响应 </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">315</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134971</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nl">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FROZEN"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"uid"</span><span class="p">:</span><span class="w"> </span><span class="mi">315</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1134971</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13297.94999"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"typeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AVAILABLE"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>String</td>
<td></td>
<td></td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object []</td>
<td></td>
<td>业务数据</td>
</tr>
<tr>
<td>- userId</td>
<td>Long</td>
<td></td>
<td>用户id</td>
</tr>
<tr>
<td>- accountId</td>
<td>Long</td>
<td></td>
<td>账户id</td>
</tr>
<tr>
<td>- currencyId</td>
<td>Integer</td>
<td></td>
<td>币种id</td>
</tr>
<tr>
<td>- balance</td>
<td>Decimal</td>
<td></td>
<td>金额</td>
</tr>
<tr>
<td>- type</td>
<td>Decimal</td>
<td></td>
<td>账户状态 1:可用 4:冻结</td>
</tr>
</tbody></table>
<h1 id='96a5882bf8'>订单相关</h1><h2 id='2152241f96'><span id="2">获取当前订单</span></h2>
<p>获取当前订单</p>
<h3 id='http-2'>HTTP请求:</h3>
<ul>
<li>GET /trade/order/active</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-2'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>11594964764657880</td>
<td>订单id</td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>7980b2ebf32042ba9dbfbddc555a3985</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td></td>
<td>币对</td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>string</td>
<td></td>
<td>base币</td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>string</td>
<td></td>
<td>quot币</td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>string</td>
<td></td>
<td>订单价格</td>
</tr>
<tr>
<td>├─ordQty</td>
<td>string</td>
<td></td>
<td>订单数量</td>
</tr>
<tr>
<td>├─ordAmt</td>
<td>string</td>
<td></td>
<td>订单金额</td>
</tr>
<tr>
<td>├─side</td>
<td>string</td>
<td></td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─cumQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordStatus</td>
<td>string</td>
<td></td>
<td>NOT_FOUND,SUBMITTING,SUBMITTED,PARTIAL_FILLED,CANCELED,FILLED</td>
</tr>
<tr>
<td>├─ordType</td>
<td>string</td>
<td></td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>string</td>
<td>GTC</td>
<td>GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='8b3c19df49'><span id="3">获取用户最新成交</span></h2>
<p>获取全部成交记录</p>
<h3 id='http-3'>HTTP请求:</h3>
<ul>
<li>GET /trade/match/accountMatches</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span></code></pre></div><h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Y</td>
<td>交易对</td>
</tr>
<tr>
<td>size</td>
<td>int</td>
<td>N</td>
<td>20</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-3'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─accountId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─instrumentId</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─baseCurrencyId</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─quoteCurrencyId</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─matchRole</td>
<td>int</td>
<td></td>
<td>TAKER(1),MAKER(-1)</td>
</tr>
<tr>
<td>├─feeCurrencyId</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─role</td>
<td>string</td>
<td></td>
<td>TAKER,MAKER</td>
</tr>
<tr>
<td>├─execQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─orderState</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─matchId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─orderId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─side</td>
<td>int</td>
<td></td>
<td>BUY(1), SELL(-1)</td>
</tr>
<tr>
<td>├─execAmt</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─selfDealingQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─tradeId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─fee</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─matchTime</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─remainingQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='debd6c0464'><span id="4">取消委托单</span></h2>
<p>取消委托单</p>
<h3 id='http-4'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/cancel</li>
</ul>
<h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>ordId</td>
<td>long</td>
<td>true</td>
<td></td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-4'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
<td>返回数据</td>
</tr>
<tr>
<td>├─state</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='caef340d80'><span id="5">一键撤单</span></h2><h3 id='http-5'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/cancelAll</li>
</ul>
<h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>false</td>
<td>不传撤销所有币对订单</td>
</tr>
</tbody></table>
<h3 id='2213f4c32f-5'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
</tbody></table>
<h2 id='df83685cc8'><span id="6">创建订单</span></h2>
<p>创建订单</p>
<h3 id='http-6'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/place</li>
</ul>
<h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>clOrdId</td>
<td>string</td>
<td>false</td>
<td>客户端订单ID。客户自定义的唯一订单ID。 如果未发送，则自动生成</td>
</tr>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>true</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>ordType</td>
<td>string</td>
<td>true</td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>timeInForce</td>
<td>string</td>
<td>false</td>
<td>defaultValue = &quot;GTC&quot;</td>
</tr>
<tr>
<td>ordPrice</td>
<td>long</td>
<td>false</td>
<td>限价单必选</td>
</tr>
<tr>
<td>ordQty</td>
<td>long</td>
<td>false</td>
<td>限价单必选，市价卖单必选</td>
</tr>
<tr>
<td>ordAmt</td>
<td>long</td>
<td>false</td>
<td>市价买单必选</td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>true</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order_id"</span><span class="p">:</span><span class="mi">11594964764657880</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-6'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td></td>
<td></td>
<td>返回数据</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>11594964764657880</td>
<td>订单id</td>
</tr>
</tbody></table>
<h2 id='77aaf08979'><span id="13">批量下单</span></h2>
<p>批量下单</p>
<h3 id='http-7'>HTTP请求:</h3>
<ul>
<li>POST /trade/order/placeBatch</li>
</ul>
<h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>long</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>orders</td>
<td>list</td>
<td>true</td>
<td></td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>false</td>
<td>客户端订单ID。客户自定义的唯一订单ID。 如果未发送，则自动生成</td>
</tr>
<tr>
<td>├─ side</td>
<td>string</td>
<td>true</td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─ ordType</td>
<td>string</td>
<td>true</td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─ timeInForce</td>
<td>string</td>
<td>false</td>
<td>defaultValue = &quot;GTC&quot;</td>
</tr>
<tr>
<td>├─ ordPrice</td>
<td>long</td>
<td>false</td>
<td>限价单必选</td>
</tr>
<tr>
<td>├─ ordQty</td>
<td>long</td>
<td>false</td>
<td>限价单必选，市价卖单必选</td>
</tr>
<tr>
<td>├─ ordAmt</td>
<td>long</td>
<td>false</td>
<td>市价买单必选</td>
</tr>
</tbody></table>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">

</span></code></pre></div><h3 id='2213f4c32f-7'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>list</td>
<td></td>
<td>返回数据</td>
</tr>
<tr>
<td>├─ ordId</td>
<td>long</td>
<td>11594964764657880</td>
<td>订单id</td>
</tr>
<tr>
<td>├─ clOrdId</td>
<td>string</td>
<td>7980b2ebf32042ba9dbfbddc555a3985</td>
<td>客户端订单id</td>
</tr>
<tr>
<td>├─errno</td>
<td>int</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─errMsg</td>
<td>string</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='id'><span id="27">根据订单id批量进行撤单</span></h2>
<p>根据订单id批量进行撤单</p>
<h3 id='http-8'>HTTP请求:</h3>
<ul>
<li>POST trade/order/cancelBatch</li>
</ul>
<h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>Y</td>
<td>&quot;BTCUSDT&quot;</td>
</tr>
<tr>
<td>orderIds</td>
<td>LIst</td>
<td>Y</td>
<td>[1,2,3]</td>
</tr>
</tbody></table>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span></code></pre></div><h3 id='2213f4c32f-8'>响应数据</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>0</td>
<td>正常返回信息</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>order.id-required</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>--success</td>
<td>List</td>
<td>[1,2,3]</td>
<td>成功的订单id集合</td>
</tr>
<tr>
<td>--reject</td>
<td>List</td>
<td>[1,2,3]</td>
<td>失败的订单id集合</td>
</tr>
</tbody></table>
<h2 id='8023a5b7ae'><span id="14">.获取订单信息</span></h2>
<p>.获取订单信息</p>
<h3 id='http-9'>HTTP请求:</h3>
<ul>
<li>GET trade/order/orderInfo</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span></code></pre></div><h3 id='2eb6f47757'>请求参数:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>required</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>clOrdId</td>
<td>string</td>
<td>false</td>
<td>ordId 二选一</td>
</tr>
<tr>
<td>ordId</td>
<td>long</td>
<td>false</td>
<td>clOrdId 二选一</td>
</tr>
</tbody></table>
<h3 id='f3324f4e0c'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─clOrdId</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─accountId</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─baseCurrency</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─quoteCurrency</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordPrice</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordAmt</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─side</td>
<td>string</td>
<td></td>
<td>BUY,SELL</td>
</tr>
<tr>
<td>├─cumAmt</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─cumQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─leavesQty</td>
<td>string</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─ordStatus</td>
<td>string</td>
<td></td>
<td>NOT_FOUND,SUBMITTING,SUBMITTED,PARTIAL_FILLED,CANCELED,FILLED</td>
</tr>
<tr>
<td>├─ordType</td>
<td>string</td>
<td></td>
<td>MARKET,LIMIT,POST_ONLY</td>
</tr>
<tr>
<td>├─timeInForce</td>
<td>string</td>
<td>GTC</td>
<td>GTC,IOC,FOK</td>
</tr>
<tr>
<td>├─timestamp</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─avgPrice</td>
<td>long</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='43ee760de5'>行情相关</h1><h2 id='1a3223149b'><span id="7">获取所有交易对最新价格</span></h2>
<p>获取所有交易对最新价格</p>
<h3 id='http-10'>HTTP请求:</h3>
<ul>
<li>GET /v1/ticker/price</li>
</ul>

<blockquote>
<p>响应</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btcusdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"autusdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='2eb6f47757-2'>请求参数:</h3>
<blockquote>
<p>默认：查询所有交易对</p>

<p>查询指定交易对: /v1/ticker/price;symbol=btcusdt,eosusdt,autusdt `</p>
</blockquote>
<h3 id='f3324f4e0c-2'>响应数据:</h3>
<table><thead>
<tr>
<th>code</th>
<th>type</th>
<th>example</th>
<th>comment</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>0</td>
<td>0：成功，其他失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td></td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>List[]</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─id</td>
<td>long</td>
<td></td>
<td></td>
</tr>
<tr>
<td>├─symbol</td>
<td>string</td>
<td></td>
<td>交易对</td>
</tr>
<tr>
<td>├─price</td>
<td>string</td>
<td></td>
<td>价格</td>
</tr>
</tbody></table>
<h1 id='websocket'>Websocket行情数据</h1><h2 id='5ea2e0cde2'>简介</h2><h3 id='url'>接入URL</h3>
<p>`
wss://ws.coinstore.com/s/ws</p>

<ol>
<li><p>所有wss接口的 baseurl为: wss://<a href="host:port">host:port</a>/s/ws</p></li>
<li><p>stream名称中所有交易对均为 小写</p></li>
<li><p>每个链接有效期不超过24小时，请妥善处理断线重连。</p></li>
<li><p>每3分钟，服务端会发送ping帧，客户端应当在10分钟内回复pong帧，否则服务端会主动断开链接。允许客户端发送不成对的pong帧(即客户端可以以高于10分钟每次的频率发送pong帧保持链接)。</p></li>
</ol>

<p>`</p>
<h3 id='e3b4b1b9ec'>服务端推送数据类型说明</h3><h4 id='format-schema'>Format Schema</h4><div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 1,  // session 级别的 response 消息序号，session 重连后重置，可用来判断是否漏消息
    "T": "resp", // 响应类型，详见 `Types` 部分
    ...
}
</code></pre></div><h4 id='types'>Types</h4>
<ol>
<li>request-response 类型的消息</li>
</ol>

<p>** <code>echo</code>: 服务器接受到到每一个消息都会以该种形式返回一个message，确认消息已经呗接收
** <code>resp</code>: 服务器接受到到每一个消息都会以该种形式返回一个处理结果的message，标记消息处理，返回信息中包含处理结果信息</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 1,
    "T": "echo|resp",
    "C": 200,  // code
    "M": "sub.channel.success",  // meaning of this code
    "sid": "3ae985ff-cadd-9c96-7a42-4ed29e77f83b",
    "echo": {},  // client request command
    "payload": "external msg"
}
</code></pre></div>
<ol>
<li>subscribe 消息类型</li>
</ol>

<blockquote>
<p>以下类型的消息，从执行对应 channel 的 <code>SUB</code> 命令开始，到执行 <code>UNSUB</code> 结束，如果服务器端数据发生变化则推送，最小推送间隔 100ms</p>
</blockquote>

<p>** <code>kline</code></p>

<p>** <code>ticker</code></p>

<p>** <code>depth</code></p>

<p>** <code>trade</code></p>

<p>** <code>account</code></p>

<p>** <code>order</code></p>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 1,
    "T": "kline|ticker|depth|trade|account",
    ...:  // 详细见下面到每种数据订阅格式 
}
</code></pre></div><h4 id='pong'>Pong</h4>
<blockquote>
<p>服务器端支持 websocket pong frame 和 pong message 两种形式端 pong 响应</p>
</blockquote>
<h4 id='websocket-pong-frame'>Websocket Pong frame</h4>
<ol>
<li><p>https://tools.ietf.org/html/rfc6455#section-5.5.3 </p></li>
<li><p>https://developer.mozilla.org/zh-CN/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#Pings%E5%92%8CPongs%EF%BC%9AWebSockets%E7%9A%84%E5%BF%83%E8%B7%B3 </p></li>
</ol>
<h4 id='pong-message-format'>Pong message format</h4><div class="highlight"><pre class="highlight plaintext"><code>{
  "op": "pong",
  "epochMillis": 1604040975
}
</code></pre></div><h4 id='example'>Example</h4><div class="highlight"><pre class="highlight plaintext"><code>$&gt;wscat -c 'ws://127.0.0.1:8080/s/ws'
&lt; {"S":1,"T":"resp","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"established"}
&gt; {"op":"SUB","channel":["80004@trade"],"id":1}
&lt; {"S":2,"T":"echo","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"command.received","echo":{"op":"SUB","channel":[{"name":"80004@trade","type":{"name":"trade","auth":"PUB"},"instrumentId":"80004","lifeStartTime":1604040964,"msgCount":0,"pub":true}],"id":1}}
&lt; {"S":3,"T":"resp","sid":"3ae985ff-cadd-9c96-7a42-4ed29e77f83b","C":200,"M":"sub.channel.success"}
&lt; {"S":4,"T":"trade","channel":"80004@trade","time":1604040975,"price":"9811.7494086","takerSide":"SELL","tradeId":26461,"volume":"7.505","symbol":"EOSUSD","instrumentId":80004}
</code></pre></div><h2 id='61d816b5c6'><strong>实时订阅/取消数据流</strong></h2>
<ul>
<li>以下数据可以通过websocket发送以实现订阅或取消订阅数据流。示例如下。</li>
<li>响应内容中的id是无符号整数，作为往来信息的唯一标识。</li>
<li>如果相应内容中的 result 为 null，表示请求发送成功。</li>
</ul>
<h3 id='client-op-types'>Client <code>op</code> Types</h3>
<ol>
<li><code>SUB</code></li>
<li><code>UNSUB</code></li>
<li><code>LOGIN</code></li>
<li><code>REQ</code></li>
<li><code>LIST</code></li>
<li>...(未来新功能支持)</li>
</ol>
<h3 id='2a11d883e8'>订阅一个信息流</h3><div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "SUB",
    "channel": [
        "btcusdt@ticker",
        "btcusdt@depth"
    ],
    "id": 1
}
</code></pre></div><h3 id='122d1b11ee'>取消订阅一个信息流</h3><div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "UNSUB",
    "channel": [
        "btcusdt@depth"
    ],
    "id": 312
}
</code></pre></div><h3 id='08abf89cc1'>已订阅信息流</h3><div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "LIST",
    "channel":[],
    "id": 3
}
</code></pre></div>
<p>** Respon</p>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "S": 12,
    "T": "resp",
    "subs": [
        {
            "name": "80004@trade",
            "type": {
                "name": "trade",
                "auth": "PUB"
            },
            "instrumentId": "80004",
            "lifeStartTime": 1604043594,
            "msgCount": 212
        }
    ],
    "sid": "b1beeb73-7c84-862f-3d03-619de1e1a5dc"
}
</code></pre></div>
<p>NOTE: <code>&lt;symbol&gt;</code> 参数暂时请使用 交易对的id，后续支持使用交易对的名称</p>

<p>IMPORTANT:  请优先使用  <code>symbol</code> 字段，<code>instrumentId</code> 标记为 <code>Deprecated</code></p>

<p>NOTE:  所有返回数据的时间，单位都是 <code>秒</code></p>
<h2 id='edf11a92a0'><strong>公共行情频道</strong></h2><h3 id='04e6f7872c'><strong>逐笔交易</strong></h3>
<blockquote>
<p>Stream Name: <code>&lt;symbol&gt;@trade</code>, eg: <code>88066@trade</code>
param: <code>param&quot;:{&quot;size&quot;:2}</code>
e.g: <code>{&quot;op&quot;:&quot;SUB&quot;,&quot;channel&quot;:[&quot;28@trade&quot;],&quot;param&quot;:{&quot;size&quot;:2},&quot;id&quot;:1}</code>
全量数据：
<code>lang=json
 {
   &quot;S&quot;: 15,
   &quot;T&quot;: &quot;trade&quot;,
   &quot;data&quot;: [
     {
       &quot;channel&quot;: &quot;28@trade&quot;,
       &quot;price&quot;: &quot;384.32&quot;,
       &quot;tradeId&quot;: 21704,
       &quot;seq&quot;: 10157,
       &quot;ts&quot;: 1612685697087,
       &quot;takerSide&quot;: &quot;BULL&quot;,
       &quot;time&quot;: 1612685697,
       &quot;volume&quot;: &quot;2&quot;,
       &quot;symbol&quot;: &quot;BTCJJ&quot;,
       &quot;instrumentId&quot;: 28
     },
     {
       &quot;channel&quot;: &quot;28@trade&quot;,
       &quot;price&quot;: &quot;644.96&quot;,
       &quot;tradeId&quot;: 21705,
       &quot;seq&quot;: 10158,
       &quot;ts&quot;: 1612685698157,
       &quot;takerSide&quot;: &quot;SELL&quot;,
       &quot;time&quot;: 1612685698,
       &quot;volume&quot;: &quot;1.1932988&quot;,
       &quot;symbol&quot;: &quot;BTCJJ&quot;,
       &quot;instrumentId&quot;: 28
     }
   ]
 }
</code>
增量数据：
<code>lang=json
{
  &quot;instrumentId&quot;: 88066,
  &quot;symbol&quot;: &quot;USDTBTC&quot;,    // 交易对
  &quot;tradeId&quot;: 12345,       // 交易ID
  &quot;takerSide&quot;: &quot;BUY&quot;,    // taker side
  &quot;price&quot;: &quot;0.001&quot;,     // 成交价格
  &quot;volume&quot;: &quot;100&quot;,       // 成交数量
  &quot;time&quot;: 123456785,   // 成交时间 单位 s
  &quot;ts&quot;: 1612685313400, // 单位 ms
  &quot;seq&quot;: 9935         // 唯一自增序号
}
</code></p>
</blockquote>
<h3 id='k-streams'><strong>K线 Streams</strong></h3>
<blockquote>
<p>K线stream逐秒推送所请求的K线种类(最新一根K线)的更新。
Stream Name: <code>&lt;symbol&gt;@kline@&lt;interval&gt;</code>, eg: <code>88066@kline@min_1</code>
interval 可选值:
** min_1
** min_5
** min_15
** min_30
** hour_1
** hour_4
** hour_12
** day_1
** week_1
** mon_1</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
   "instrumentId": 88066, 
   "startTime": 1603732500,  // 这根 k线的开始时间，单位 s
    "endTime": 1603732559,  // 这根 k线的开始时间，单位 s
    "symbol": "USDTBTC",  // 交易对
    "interval": "1m",      // K线间隔
    "firstTradeId": 100,       // 这根K线期间第一笔成交ID
    "lastTradeId": 200,       // 这根K线期间末一笔成交ID
    "open": "0.0010",  // 这根K线期间第一笔成交价
    "close": "0.0020",  // 这根K线期间末一笔成交价
    "high": "0.0025",  // 这根K线期间最高成交价
    "low": "0.0015",  // 这根K线期间最低成交价
    "volume": "1000",    // 这根K线期间成交量
    "amount": "1.0000",  // 这根K线期间成交额
}
</code></pre></div><h3 id='k-request'><strong>K线 Request</strong></h3>
<blockquote>
<p>请求历史k线：
param: <code>&quot;{channel&quot;:&quot;88066@kline@min_1&quot;,&quot;endTime&quot;:1603766280,&quot;limit&quot;:10}</code>,
eg:  <code>{&quot;op&quot;:&quot;REQ&quot;,&quot;param&quot;:{&quot;channel&quot;:&quot;88066@kline@min_1&quot;,&quot;limit&quot;:10},&quot;id&quot;:1}</code>
<code>limit</code>: 最大不超过 200
<code>endTime</code>: 可选，exclusive</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "channel": "88066@kline@min_1",
    "symbol": "USDTBTC",
    "instrumentId": 88066,
    "item": [
        {
            "interval": "min_1",
            "startTime": 1603766280,
            "endTime": 1603766339,
            "lastTradeId": 4739656,
            "firstTradeId": 4739656,
            "close": "4.91",
            "open": "4.91",
            "high": "4.91",
            "low": "4.91",
            "volume": "8.488",
            "amount": "41.67608"
        },
        ...
    ]
}
</code></pre></div><h3 id='symbol-ticker'><strong>按 Symbol 的 Ticker信息</strong></h3>
<blockquote>
<p>按Symbol刷新的最近24小时精简 ticker 信息
Stream 名称: <code>&lt;symbol&gt;@ticker</code>, eg:  <code>88066@ticker</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "instrumentId": 88066,
  "symbol": "USDTBTC",      // 交易对
  "open": "0.0010",      // 整整24小时前，向后数的第一次成交价格
  "high": "0.0025",      // 24小时内最高成交价
  "low": "0.0010",      // 24小时内最低成交加
  "close": "0.0025",      // 最新成交价格
  "volume": "10000",       // 24小时内成交量
  "amount": "18"          // 24小时内成交额
}
</code></pre></div><h3 id='symbol-ticker-2'><strong>全市场所有Symbol 的 Ticker信息</strong></h3>
<blockquote>
<p>按Symbol刷新的最近24小时精简ticker信息
Stream 名称: <code>!@ticker</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "data": [
        {
            "channel": "80002@ticker",
            "open": "9996.24",
            "high": "10048.6601",
            "low": "9768.90178",
            "close": "9833.12538",
            "volume": "3362.405",
            "amount": "33212664.57170620732",
            "symbol": "BTCUSD", 
            "instrumentId": 80002
        },
        {
            "channel": "80001@ticker",
            "open": "10001.57",
            "high": "10053.9441",
            "low": "9816.23078",
            "close": "9832.91038",
            "volume": "3138.93361771",
            "amount": "31040843.0757471861414",
            "symbol": "ETHUSD",
            "instrumentId": 80001
        },
        ...
    ]
}
</code></pre></div><h3 id='3b1eaace8a'><strong>有限档深度信息</strong></h3>
<blockquote>
<p>每秒或每100毫秒推送有限档深度信息。levels表示几档买卖单信息, 可选 5/10/20/50/100档
Stream Names: <code>&lt;symbol&gt;@depth@&lt;levels&gt;</code> <del>或 <code>&lt;symbol&gt;@depth@&lt;levels&gt;@100ms</code>.</del>, eg:  <code>88066@depth@50</code></p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
  "level": 5,
  "instrumentId": 88066,
  "symbol": "BTCUSDT"
  "b": [             // Bids to be updated
    [
      "0.0024",         // Price level to be updated
      "10"              // Quantity
    ]
  ],
  "a": [             // Asks to be updated
    [
      "0.0026",         // Price level to be updated
      "100"            // Quantity
    ]
  ]
}
</code></pre></div><h2 id='050d3ff583'><strong>用户私有数据频道</strong></h2><h3 id='0de2270bc5'><strong>登陆</strong></h3>
<blockquote>
<p>登陆时可以同时指定订阅数据</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "op": "LOGIN",
    "channel": [
        "7@account",
        "80002@order"
    ],
    "auth": {
        "user-id":4930,     // 用户登陆账号的 user id 或者子账号的 user id
        "token": "eb737c84862f3d"  // 登陆之后的 token； 端上登陆用户使用登陆后的token， api 用户填写  api-key
        "type": "token"      // 可选值范围：token | api , 默认为 token， api 用户填写 api
    }
    "id": 2
}
</code></pre></div><h3 id='2f616316f3'><strong>账户</strong></h3>
<blockquote>
<p>Stream Name: <code>&lt;currency&gt;@account</code>, or <code>!@account</code> all currency</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    "accountId": 12,
    "currency": "BTC",
    "frozen": "21.03",
    "available": "3128.29",
    "timestamp": 1602493840  // 单位 s
}

</code></pre></div><h3 id='46ef91185e'><strong>成交</strong></h3>
<blockquote>
<p>Stream Name: <code>&lt;symbol&gt;@order</code>, or <code>!@order</code> all symbol&#39;s</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>{
    // increment

    "version": 12,

    // order base info, never change

    "accountId": 1,
    "ordId": 12,
    "symbol": "BTCUSDT",
    "side": "BUY",
    "ordType": "LIMIT",
    "timeInForce": "GTC",
    "ordPrice": "128.21",
    "ordQty": "11.21",
    "ordAmt": "231.2",

    // order state
    "ordState": "PARTIAL_FILLED",

    // sum every trade time

    "execQty": "12.2",
    "execAmt": "312.12",
    "remainingQty": "1.2",

    // current trade info,  present meaning values when `matchQty` is bigger than 0

    "matchId": 12,
    "tradeId": 123,
    "matchRole": "TAKER",
    "matchQty": "1.9",
    "matchAmt": "390.29",
    "selfDealingQty": "1.9",
    "actualFeeRate": "0.002",
    "feeCurrencyId": 12,
    "fee": 0.21,

    "timestamp": 1602493840 // 单位 s
}
</code></pre></div><h2 id='42702c21cd'><strong>字典</strong></h2><h3 id='orderstate'>OrderState</h3>
<ul>
<li>REJECTED</li>
<li>SUBMITTING</li>
<li>SUBMITTED</li>
<li>PARTIAL_FILLED</li>
<li>CANCELING</li>
<li>CANCELED</li>
<li>EXPIRED</li>
<li>STOPPED</li>
<li>FILLED</li>
</ul>
<h3 id='ordertype'>OrderType</h3>
<ul>
<li>MARKET </li>
<li>LIMIT </li>
<li>POST_ONLY</li>
</ul>
<h3 id='timeinforce'>TimeInForce</h3>
<ul>
<li>IOC</li>
<li>GTC</li>
</ul>
<h3 id='matchrole'>MatchRole</h3>
<ul>
<li>TAKER</li>
<li>MAKER</li>
</ul>
<h3 id='side'>Side</h3>
<ul>
<li>BUY</li>
<li>SELL</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
